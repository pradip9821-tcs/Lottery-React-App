{"version":3,"sources":["web3.js","lottery.js","App.js","reportWebVitals.js","index.js"],"names":["window","ethereum","request","method","web3","Web3","address","config","ABI","eth","Contract","App","state","manager","players","balance","value","message","winner","onSubmit","event","preventDefault","getAccounts","accounts","setState","lottery","methods","Enter","send","from","utils","toWei","getPlayers","call","getBalance","options","onClick","pickWinner","this","style","margin","fontSize","fontFamily","color","length","fromWei","textAlign","onChange","target","disabled","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.63863d88.chunk.js","sourcesContent":["import Web3 from \"web3\";\n\nwindow.ethereum.request({ method: \"eth_requestAccounts\" });\n \nconst web3 = new Web3(window.ethereum);\n\nexport default web3;","import web3 from \"./web3\";\nimport config from \"./config.json\"\n\nconst address   = config[\".env\"].address;\nconst ABI       = config[\".env\"].ABI;\n\nexport default new web3.eth.Contract(ABI, address);","import React from \"react\";\nimport \"./App.css\";\n\nimport web3  from \"./web3\";\nimport lottery from \"./lottery\";\n\nclass App extends React.Component {\n\n  state = {\n    manager: '',\n    players: [],\n    balance: '',\n    value: '',\n    message : '',\n    winner : ''\n  };\n\n  async componentDidMount() {\n    const manager = await lottery.methods.manager().call();\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n\n    this.setState({ manager , players, balance });\n  }\n\n  onSubmit = async(event) => {\n    event.preventDefault();\n     \n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message : 'Waiting on transaction success...' });\n\n    await lottery.methods.Enter().send(\n      {\n        from : accounts[0],\n        value : web3.utils.toWei(this.state.value, 'ether')\n      }\n    );\n\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n\n    this.setState({ players, balance, message : 'You have been entered!', value : '' });\n    \n  }\n\n  onClick = async() => {\n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message : 'Waiting on transaction success...' });\n\n    await lottery.methods.pickWinner().send(\n      {\n        from : accounts[0]\n      }\n    );\n\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n    const winner  = await lottery.methods.winner().call();\n\n    this.setState({ players, balance, message : 'A winner has been picked!', winner, value : '' });\n  }\n\n  render() {\n    return (\n      <div style = {\n          {\n            margin : \"25px\"\n          }\n        }>\n         <h2>Lottery Contract</h2>\n         <p style={{fontSize:\"18px\"}}>\n            This constant managed by <b style={{fontSize:\"16px\",fontFamily:\"inherit\",color:\"darkcyan\"}}>{this.state.manager}</b>. <br />\n            There are currently <b style={{fontSize:\"20px\",fontFamily:\"cursive\"}}>{this.state.players.length}</b> people entered, <br />\n            Competing to win <b style={{fontSize:\"20px\",fontFamily:\"cursive\"}}>{web3.utils.fromWei(this.state.balance, 'ether') - (web3.utils.fromWei(this.state.balance, 'ether') * 0.05)}</b> ether! <br />\n          </p> \n\n          <hr />\n\n          <form onSubmit = {this.onSubmit}>\n            <h4>Want to try your luck?</h4>\n            <div style = {\n                {\n                  fontSize:\"18px \"\n                }\n              }\n              >\n              <label>Amount of ether to enter </label>\n              <input \n                style = {\n                  {\n                    textAlign: \"right\",\n                    margin : \"10px\"\n                  }\n                }\n                value = { this.state.value }\n                onChange = { event => this.setState({value : event.target.value})}\n              />\n              <button disabled = { this.state.players.length === 2 ? true : false } >Enter</button>\n            </div>\n          </form>\n\n          <h4>Ready to pick a winner?</h4>\n\n          <button\n            disabled = {this.state.players.length === 2 ? false : true}\n            onClick = {this.onClick}  \n          >Pick a winner</button>\n          <br />\n          <br />\n          <hr />\n          <h2>{this.state.message}</h2>\n          {this.state.winner !== '' && <p>Here your winner is {this.state.winner}</p>}\n          \n      </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}