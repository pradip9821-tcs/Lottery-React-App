{"version":3,"sources":["web3.js","lottery.js","App.js","reportWebVitals.js","index.js"],"names":["window","ethereum","request","method","web3","Web3","address","config","ABI","eth","Contract","App","state","manager","players","balance","value","message","winner","isWaiting","onSubmit","event","preventDefault","getAccounts","accounts","setState","lottery","methods","Enter","send","from","utils","toWei","getPlayers","call","getBalance","options","onClick","pickWinner","console","log","this","style","margin","fontSize","fontFamily","color","length","fromWei","display","alignItems","textAlign","disabled","onChange","target","height","marginTop","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9802bdf.chunk.js","sourcesContent":["import Web3 from \"web3\";\n\nwindow.ethereum.request({ method: \"eth_requestAccounts\" });\n \nconst web3 = new Web3(window.ethereum);\n\nexport default web3;","import web3 from \"./web3\";\nimport config from \"./config.json\"\n\nconst address   = config[\".env\"].address;\nconst ABI       = config[\".env\"].ABI;\n\nexport default new web3.eth.Contract(ABI, address);","import React from \"react\";\nimport \"./App.css\";\n\nimport web3  from \"./web3\";\nimport lottery from \"./lottery\";\n\nclass App extends React.Component {\n\n  state = {\n    manager: '',\n    players: [],\n    balance: '',\n    value: '',\n    message : '',\n    winner : '',\n    isWaiting : false\n  };\n\n  async componentDidMount() {\n    const manager = await lottery.methods.manager().call();\n    const players = await lottery.methods.getPlayers().call();\n    const accounts = await web3.eth.getAccounts();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n    console.log(accounts);\n\n    this.setState({ manager , players, balance });\n  }\n\n  onSubmit = async(event) => {\n    event.preventDefault();\n     \n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message : 'Waiting on transaction success...', isWaiting : true });\n\n    await lottery.methods.Enter().send(\n      {\n        from : accounts[0],\n        value : web3.utils.toWei(this.state.value, 'ether')\n      }\n    );\n\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n\n    this.setState({ players, balance, message : 'You have been entered!', value : '', isWaiting : false });\n    \n  }\n\n  onClick = async() => {\n\n    const accounts = await web3.eth.getAccounts();\n\n    this.setState({ message : 'Waiting on transaction success...', isWaiting : true  });\n\n    await lottery.methods.pickWinner().send(\n      {\n        from : accounts[0]\n      }\n    );\n\n    const players = await lottery.methods.getPlayers().call();\n    const balance = await web3.eth.getBalance(lottery.options.address);\n    const winner  = await lottery.methods.winner().call();\n\n    this.setState({ players, balance, message : 'A winner has been picked!', winner, value : '', isWaiting : false });\n  }\n\n  render() {\n    return (\n      <div style = {\n          {\n            margin : \"25px\"\n          }\n        }>\n         <h2>Lottery Contract</h2>\n         <p style={{fontSize:\"18px\"}}>\n            This constant managed by <b style={{fontSize:\"16px\",fontFamily:\"inherit\",color:\"darkcyan\"}}>{this.state.manager}</b>. <br />\n            There are currently <b style={{fontSize:\"20px\",fontFamily:\"cursive\"}}>{this.state.players.length}</b> people entered, <br />\n            Competing to win <b style={{fontSize:\"20px\",fontFamily:\"cursive\"}}>{web3.utils.fromWei(this.state.balance, 'ether') - (web3.utils.fromWei(this.state.balance, 'ether') * 0.05)}</b> ether! <br />\n          </p> \n\n          <hr />\n\n          <form onSubmit = {this.onSubmit}>\n            <h4>Want to try your luck?</h4>\n            <div style = {\n                {\n                  fontSize:\"18px\",\n                  display:\"flex\",\n                  alignItems:\"center\"\n                }\n              }\n              >\n              <label>Amount of ether to enter </label>\n              <input \n                style = {\n                  {\n                    textAlign: \"right\",\n                    margin : \"10px\"\n                  }\n                }\n                disabled = {this.state.isWaiting}\n                value = { this.state.value }\n                onChange = { event => this.setState({value : event.target.value})}\n              />\n              <button disabled = { this.state.players.length === 2 || this.state.isWaiting ? true : false } style={{height : \"27px\"}}>Enter</button>\n              {this.state.players.length === 2 && \n                <p style = {\n                  {\n                    fontSize : \"10px\",\n                    margin: \"5px\",\n                    marginTop : \"25px\",\n                    color:\"red\"\n                  }\n                }>(Lottery contract is full, Please try after sometime later.)</p>}\n            </div>\n          </form>\n\n          <h4>Ready to pick a winner?</h4>\n\n          <button\n            disabled = { (this.state.players.length !== 2 || this.state.isWaiting )? true : false }\n            onClick  = {this.onClick}  \n          >Pick a winner</button>\n          <br />\n          <br />\n          <hr />\n          <h2>{this.state.message}</h2>\n            {this.state.winner !== '' && <p>Here your winner is {this.state.winner}</p>}\n      </div>\n    );\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}